(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d36f645"],{2506:function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"l",(function(){return n})),a.d(e,"m",(function(){return o})),a.d(e,"n",(function(){return c})),a.d(e,"i",(function(){return u})),a.d(e,"j",(function(){return l})),a.d(e,"g",(function(){return i})),a.d(e,"k",(function(){return p})),a.d(e,"o",(function(){return d})),a.d(e,"c",(function(){return f})),a.d(e,"f",(function(){return b})),a.d(e,"d",(function(){return h})),a.d(e,"e",(function(){return v})),a.d(e,"a",(function(){return m})),a.d(e,"b",(function(){return g})),a.d(e,"p",(function(){return w}));a("99af");var r=a("b775");function s(t){return Object(r["a"])({url:"/user/process/instance/".concat(t.page,"/").concat(t.pageSize),method:"put",data:t})}function n(t){return Object(r["a"])({url:"/user/process/instance/getById/".concat(t)})}function o(t){return Object(r["a"])({url:"/approvals/flows/".concat(t)})}function c(t){return Object(r["a"])({url:"/approvals/setting",method:"put",data:t})}function u(t){return Object(r["a"])({url:"/user/process/instance/".concat(t)})}function l(t){return Object(r["a"])({url:"/user/process/instance/tasks/".concat(t)})}function i(t){return Object(r["a"])({url:"//user/process/buss/showBussImgById/".concat(t)})}function p(t){return Object(r["a"])({url:"/user/process/definition",params:t})}function d(t){return Object(r["a"])({url:"/user/process/suspend/".concat(t.processKey),params:t})}function f(t){return Object(r["a"])({url:"/user/process_leave/startProcess",data:t,method:"post"})}function b(t){return Object(r["a"])({url:"/user/approvals/".concat(t.id,"/reject"),method:"put",data:t})}function h(t){return Object(r["a"])({url:"/user/approvals/".concat(t),method:"delete"})}function v(t){return Object(r["a"])({url:"/user/process/instance/commit",method:"put",data:t})}function m(t){return Object(r["a"])({url:"/user/process_dimission/startProcess",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/user/process_overtime/startProcess",method:"post",data:t})}function w(t){return Object(r["a"])({url:"/sys/user/".concat(t.id),method:"put",data:t})}},"944f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dashboard-container"},[a("div",{staticClass:"app-container"},[a("page-tools",{attrs:{"show-before":!0},scopedSlots:t._u([{key:"before",fn:function(){return[t._v("当前审批中 0 本月审批通过 1 本月审批驳回 0")]},proxy:!0},{key:"after",fn:function(){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$router.push("/approvals/securitySetting")}}},[t._v("流程设置")])]},proxy:!0}])}),a("el-card",{staticClass:"hr-block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),a("el-table-column",{attrs:{type:"index",width:"80",label:"序号"}}),a("el-table-column",{attrs:{prop:"processName",label:"审批类型",sortable:""}}),a("el-table-column",{attrs:{prop:"username",label:"申请人",sortable:""}}),a("el-table-column",{attrs:{prop:"procCurrNodeUserName",label:"当前审批人",sortable:""}}),a("el-table-column",{attrs:{label:"审批发起时间",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("formatDate")(e.row.procApplyTime)))])]}}])}),a("el-table-column",{attrs:{prop:"process_state",label:"审批状态",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.processState?a("span",{staticClass:"rovalsState"},[a("em",{staticClass:"sub"}),t._v("已提交 ")]):t._e(),"1"===e.row.processState?a("span",{staticClass:"rovalsState"},[a("em",{staticClass:"stay"}),t._v("审批中 ")]):t._e(),"2"===e.row.processState?a("span",{staticClass:"rovalsState"},[a("em",{staticClass:"adopt"}),t._v("审批通过 ")]):t._e(),"3"===e.row.processState?a("span",{staticClass:"rovalsState"},[a("em",{staticClass:"reject"}),t._v("审批不通过 ")]):t._e(),"4"===e.row.processState?a("span",{staticClass:"rovalsState"},[a("em",{staticClass:"revoke"}),t._v("撤销 ")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.toDetail(e.row)}}},[t._v(" 查看 ")])]}}])})],1),a("el-row",{staticStyle:{height:"60px"},attrs:{type:"flex",align:"middle",justify:"center"}},[a("el-pagination",{attrs:{total:t.page.total,"page-size":t.page.pagesize,layout:"prev, pager, next"},on:{"current-change":t.changePage}})],1)],1)],1)])},s=[],n=a("c7eb"),o=a("5530"),c=a("1da1"),u=a("2506"),l={name:"SocialTableIndex",components:{},data:function(){return{list:[],loading:!1,page:{page:1,total:0,pageSize:10}}},created:function(){this.getApprovalList()},methods:{getApprovalList:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){var a,r,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(u["h"])(Object(o["a"])({year:2018},t.page));case 3:a=e.sent,r=a.rows,s=a.total,t.page.total=s,t.list=r,t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},toDetail:function(t){var e=t.processName;switch(e){case"工资":this.$router.push({path:"/approvals/salaryApproval/"+t.processId});break;case"入职":this.$router.push({path:"/approvals/enterApproval/"+t.processId});break;case"请假":this.$router.push({path:"/approvals/leaveApproval/"+t.processId});break;case"离职":this.$router.push({path:"/approvals/quitApproval/"+t.processId});break;case"加班":this.$router.push({path:"/approvals/overtimeApproval/"+t.processId})}},changePage:function(t){this.page.newPage=t,this.getApprovalList()}}},i=l,p=a("2877"),d=Object(p["a"])(i,r,s,!1,null,null,null);e["default"]=d.exports}}]);