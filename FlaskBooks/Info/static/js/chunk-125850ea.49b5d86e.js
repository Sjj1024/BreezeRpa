(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-125850ea"],{"04a8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"securitySetting"},[n("div",{staticClass:"settingList"},[n("div",{staticClass:"set"},[n("span",[e._v("请假")]),n("span",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":e.inactiveColor},on:{change:function(t){return e.handleChange(e.levelData,t)}},model:{value:e.levelData.enable,callback:function(t){e.$set(e.levelData,"enable",t)},expression:"levelData.enable"}})],1),n("i",{staticClass:"el-icon-setting",on:{click:function(t){return e.setFlow("regular")}}})]),n("div",{staticClass:"set"},[n("span",[e._v("加班")]),n("span",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":e.inactiveColor},on:{change:function(t){return e.handleChange(e.overtimeData,t)}},model:{value:e.overtimeData.enable,callback:function(t){e.$set(e.overtimeData,"enable",t)},expression:"overtimeData.enable"}})],1),n("i",{staticClass:"el-icon-setting",on:{click:function(t){return e.setFlow("regular")}}})]),n("div",{staticClass:"set"},[n("span",[e._v("离职")]),n("span",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":e.inactiveColor},on:{change:function(t){return e.handleChange(e.dimissionData,t)}},model:{value:e.dimissionData.enable,callback:function(t){e.$set(e.dimissionData,"enable",t)},expression:"dimissionData.enable"}})],1),n("i",{staticClass:"el-icon-setting",on:{click:function(t){return e.setFlow("regular")}}})])]),n("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",{staticStyle:{"text-align":"center"}},[n("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"/api/user/process/deploy",headers:e.myheader,"before-upload":e.beforeUpload,"on-error":e.uploadFail,"on-success":e.handleFileSuccess,"show-file-list":!1,"file-list":e.fileList}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处")])])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},s=[],i=n("c7eb"),r=n("5530"),c=n("1da1"),o=(n("d81d"),n("2506")),u=n("8975"),l=n("5f87"),d={name:"UsersTableIndex",components:{},data:function(){return{requestData:{},activeColor:"#13ce66",inactiveColor:"#ccc",dialogVisible:!1,processing:!1,uploadTip:"点击上传",fileList:[],dataBase:[],levelData:{enable:!1},overtimeData:{enable:!1},dimissionData:{enable:!1}}},computed:{myheader:function(){return{Authorization:"Bearer ".concat(Object(l["a"])())}}},created:function(){this.getFlowList()},methods:{getFlowList:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["k"])();case 2:n=t.sent,n.map((function(t){var n=Object(r["a"])(Object(r["a"])({},t),{},{enable:2!==t.persistentState.suspensionState});"process_leave"===n.key?e.levelData=n:"process_dimission"===n.key?e.dimissionData=n:e.overtimeData=n}));case 4:case"end":return t.stop()}}),t)})))()},handleChange:function(e,t){if(e.key){var n={processKey:e.key,enable:t};Object(o["o"])(n)}else this.$message.error("还未上传流程")},changeSet:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["n"])(e.requestData);case 2:e.$message.success("设置保存成功！");case 3:case"end":return t.stop()}}),t)})))()},setFlow:function(e){this.dialogVisible=!0},typeTip:function(e){this.$message.error(e)},beforeUpload:function(e,t){Object(u["importFilexml"])(e,t,this.typeTip)},uploadFail:function(e,t,n){this.uploadTip="点击上传",this.processing=!1,this.$message.error(e)},handleFileSuccess:function(e,t,n){this.uploadTip="点击上传",this.processing=!1,this.dialogImportVisible=!1,99999===e.code?this.$message.error("导入失败!"):(this.$message.success("导入成功!"),this.$router.back(-1))}}},p=d,f=(n("c8d22"),n("2877")),b=Object(f["a"])(p,a,s,!1,null,"0827085d",null);t["default"]=b.exports},2506:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return r})),n.d(t,"n",(function(){return c})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"p",(function(){return j}));n("99af");var a=n("b775");function s(e){return Object(a["a"])({url:"/user/process/instance/".concat(e.page,"/").concat(e.pageSize),method:"put",data:e})}function i(e){return Object(a["a"])({url:"/user/process/instance/getById/".concat(e)})}function r(e){return Object(a["a"])({url:"/approvals/flows/".concat(e)})}function c(e){return Object(a["a"])({url:"/approvals/setting",method:"put",data:e})}function o(e){return Object(a["a"])({url:"/user/process/instance/".concat(e)})}function u(e){return Object(a["a"])({url:"/user/process/instance/tasks/".concat(e)})}function l(e){return Object(a["a"])({url:"//user/process/buss/showBussImgById/".concat(e)})}function d(e){return Object(a["a"])({url:"/user/process/definition",params:e})}function p(e){return Object(a["a"])({url:"/user/process/suspend/".concat(e.processKey),params:e})}function f(e){return Object(a["a"])({url:"/user/process_leave/startProcess",data:e,method:"post"})}function b(e){return Object(a["a"])({url:"/user/approvals/".concat(e.id,"/reject"),method:"put",data:e})}function h(e){return Object(a["a"])({url:"/user/approvals/".concat(e),method:"delete"})}function v(e){return Object(a["a"])({url:"/user/process/instance/commit",method:"put",data:e})}function m(e){return Object(a["a"])({url:"/user/process_dimission/startProcess",method:"post",data:e})}function g(e){return Object(a["a"])({url:"/user/process_overtime/startProcess",method:"post",data:e})}function j(e){return Object(a["a"])({url:"/sys/user/".concat(e.id),method:"put",data:e})}},c8d22:function(e,t,n){"use strict";n("e68d")},e68d:function(e,t,n){}}]);